{
  "id": "92112d97-bb64-4b44-86f2-ea5691ef8f6e",
  "revision": 0,
  "last_node_id": 155,
  "last_link_id": 321,
  "nodes": [
    {
      "id": 142,
      "type": "f2a4744d-e70e-4aac-ba41-f86eeafb1438",
      "pos": [
        -1036.5319788207876,
        1036.0332749980957
      ],
      "size": [
        548.1133198706079,
        85.26510937500007
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 281
        },
        {
          "label": "Enable upscaling",
          "name": "switch",
          "type": "BOOLEAN",
          "widget": {
            "name": "switch"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            282
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "model_name"
          ],
          [
            "-1",
            "switch"
          ]
        ]
      },
      "widgets_values": [
        "nmkdSiaxCX_200k.safetensors",
        false
      ]
    },
    {
      "id": 136,
      "type": "2e2cc58d-2aeb-41a6-90b0-a4d76c57240a",
      "pos": [
        -1981.808985091151,
        597.3832471754945
      ],
      "size": [
        388.2708124999999,
        531.7730820312502
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [
        {
          "label": "positive",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 265
        },
        {
          "label": "negative",
          "name": "conditioning_1",
          "type": "CONDITIONING",
          "link": 266
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 267
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            273
          ]
        },
        {
          "label": "negative",
          "name": "CONDITIONING_1",
          "type": "CONDITIONING",
          "links": [
            274
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "81",
            "image"
          ],
          [
            "81",
            "upload"
          ],
          [
            "81",
            "$$canvas-image-preview"
          ]
        ]
      },
      "widgets_values": []
    },
    {
      "id": 99,
      "type": "PreviewImage",
      "pos": [
        -333.993038928455,
        -36.65650238004795
      ],
      "size": [
        902.8565711462022,
        1065.3319091769577
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 282
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 135,
      "type": "487047c6-8a87-463c-a5ba-eac4fe96d290",
      "pos": [
        -1993.4981141862975,
        1.500897808702888
      ],
      "size": [
        386.66425390625,
        539.5913125
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [
        {
          "label": "positive",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 258
        },
        {
          "label": "negative",
          "name": "conditioning_1",
          "type": "CONDITIONING",
          "link": 259
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 260
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            265
          ]
        },
        {
          "label": "negative",
          "name": "CONDITIONING_1",
          "type": "CONDITIONING",
          "links": [
            266
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            271
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            270
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "76",
            "image"
          ],
          [
            "76",
            "upload"
          ],
          [
            "76",
            "$$canvas-image-preview"
          ]
        ]
      },
      "widgets_values": []
    },
    {
      "id": 117,
      "type": "c5bd602b-59d1-4754-aab6-9f06f1c6eeb4",
      "pos": [
        -1531.3792943857004,
        4.713257104327203
      ],
      "size": [
        410.61636618310683,
        162.5907308549966
      ],
      "flags": {
        "collapsed": false
      },
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "unet_name",
          "type": "COMBO",
          "widget": {
            "name": "unet_name"
          },
          "link": null
        },
        {
          "label": "clip",
          "name": "clip_name",
          "type": "COMBO",
          "widget": {
            "name": "clip_name"
          },
          "link": null
        },
        {
          "label": "vae",
          "name": "vae_name",
          "type": "COMBO",
          "widget": {
            "name": "vae_name"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            207
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            208,
            255
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            260,
            267,
            275
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "unet_name"
          ],
          [
            "-1",
            "clip_name"
          ],
          [
            "-1",
            "vae_name"
          ]
        ]
      },
      "widgets_values": [
        "flux-2-klein-9b.safetensors",
        "qwen_3_8b.safetensors",
        "flux2-vae.safetensors"
      ]
    },
    {
      "id": 137,
      "type": "1e5bce77-de14-4aff-8ecd-4c6c3cd45d17",
      "pos": [
        -1534.3747578647572,
        609.2840803112897
      ],
      "size": [
        412.97458203125007,
        393.2398437500001
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "label": "img_width",
          "name": "any_01",
          "type": "INT",
          "link": 270
        },
        {
          "dir": 3,
          "label": "img_height",
          "name": "any_01_1",
          "type": "INT",
          "link": 271
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 272
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 273
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 274
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 275
        },
        {
          "label": "width",
          "name": "value",
          "type": "INT",
          "widget": {
            "name": "value"
          },
          "link": null
        },
        {
          "label": "height",
          "name": "value_1",
          "type": "INT",
          "widget": {
            "name": "value_1"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            281
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "value_1"
          ],
          [
            "-1",
            "sampler_name"
          ],
          [
            "-1",
            "steps"
          ],
          [
            "143",
            "seed"
          ],
          [
            "143",
            "ðŸŽ² Randomize Each Time"
          ],
          [
            "143",
            "ðŸŽ² New Fixed Random"
          ]
        ]
      },
      "widgets_values": [
        768,
        1024,
        "euler",
        4
      ]
    },
    {
      "id": 134,
      "type": "6d2d9cfd-d063-420a-8110-b6ff72174454",
      "pos": [
        -1062.2217011958837,
        -13.824735626387213
      ],
      "size": [
        610.5322148437499,
        991.6436210937502
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 255
        },
        {
          "label": "prompt",
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": null
        },
        {
          "label": "Enhance Prompt",
          "name": "switch",
          "type": "BOOLEAN",
          "widget": {
            "name": "switch"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            258
          ]
        },
        {
          "label": "negative",
          "name": "CONDITIONING_1",
          "type": "CONDITIONING",
          "links": [
            259
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "switch"
          ]
        ]
      },
      "widgets_values": [
        "a bust portrait of a man with his face and neck painted completely white. He has an angular jaw, red lipstick, brown-green eyes with black eyeliner and a retro short hairdo. His hair is black. He stands at 3/4 angle wearing a red shirt and black tie. The background is split diagonally into two halves, the upper half being emerald and the bottom half being yellow.",
        false
      ]
    },
    {
      "id": 118,
      "type": "Power Lora Loader (rgthree)",
      "pos": [
        -1533.5153934091386,
        237.81851401838986
      ],
      "size": [
        414.29683593749985,
        286
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "model",
          "type": "MODEL",
          "link": 207
        },
        {
          "dir": 3,
          "name": "clip",
          "type": "CLIP",
          "link": 208
        }
      ],
      "outputs": [
        {
          "dir": 4,
          "name": "MODEL",
          "shape": 3,
          "type": "MODEL",
          "links": [
            272
          ]
        },
        {
          "dir": 4,
          "name": "CLIP",
          "shape": 3,
          "type": "CLIP",
          "links": null
        }
      ],
      "properties": {
        "Show Strengths": "Single Strength"
      },
      "widgets_values": [
        {},
        {
          "type": "PowerLoraLoaderHeaderWidget"
        },
        {
          "on": false,
          "lora": "klein9b-detail.safetensors",
          "strength": 0.7,
          "strengthTwo": null
        },
        {
          "on": true,
          "lora": "klein9b-mikkoph.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "klein9b-scifi.safetensors",
          "strength": 1.25,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "klein9b-dcanchfutre.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "klein9b-obs.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "klein9b-dcanchfutre.safetensors",
          "strength": 1.15,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "klein9b-dark.safetensors",
          "strength": 1,
          "strengthTwo": null
        },
        {},
        ""
      ]
    }
  ],
  "links": [
    [
      207,
      117,
      0,
      118,
      0,
      "MODEL"
    ],
    [
      208,
      117,
      1,
      118,
      1,
      "CLIP"
    ],
    [
      255,
      117,
      1,
      134,
      0,
      "CLIP"
    ],
    [
      258,
      134,
      0,
      135,
      0,
      "CONDITIONING"
    ],
    [
      259,
      134,
      1,
      135,
      1,
      "CONDITIONING"
    ],
    [
      260,
      117,
      2,
      135,
      2,
      "VAE"
    ],
    [
      265,
      135,
      0,
      136,
      0,
      "CONDITIONING"
    ],
    [
      266,
      135,
      1,
      136,
      1,
      "CONDITIONING"
    ],
    [
      267,
      117,
      2,
      136,
      2,
      "VAE"
    ],
    [
      270,
      135,
      3,
      137,
      0,
      "INT"
    ],
    [
      271,
      135,
      2,
      137,
      1,
      "INT"
    ],
    [
      272,
      118,
      0,
      137,
      2,
      "MODEL"
    ],
    [
      273,
      136,
      0,
      137,
      3,
      "CONDITIONING"
    ],
    [
      274,
      136,
      1,
      137,
      4,
      "CONDITIONING"
    ],
    [
      275,
      117,
      2,
      137,
      5,
      "VAE"
    ],
    [
      281,
      137,
      0,
      142,
      0,
      "IMAGE"
    ],
    [
      282,
      142,
      0,
      99,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "definitions": {
    "subgraphs": [
      {
        "id": "27eacb9f-0da2-421d-a0bf-b4b4e5fe5709",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Reference Conditioning",
        "inputNode": {
          "id": -10,
          "bounding": [
            -270,
            990,
            120,
            120
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            580,
            970,
            120,
            80
          ]
        },
        "inputs": [
          {
            "id": "5c9a0f5e-8cee-4947-90bc-330de782043a",
            "name": "conditioning",
            "type": "CONDITIONING",
            "linkIds": [
              165
            ],
            "label": "positive",
            "pos": [
              -170,
              1010
            ]
          },
          {
            "id": "61826d46-4c21-4ad6-801c-3e3fa94115e2",
            "name": "conditioning_1",
            "type": "CONDITIONING",
            "linkIds": [
              166
            ],
            "label": "negative",
            "pos": [
              -170,
              1030
            ]
          },
          {
            "id": "345bf085-5939-47ff-9767-8f8f239a719c",
            "name": "pixels",
            "type": "IMAGE",
            "linkIds": [
              167
            ],
            "pos": [
              -170,
              1050
            ]
          },
          {
            "id": "f4594e34-e2f5-4f1e-b1fa-a1dc2aeb0a90",
            "name": "vae",
            "type": "VAE",
            "linkIds": [
              168
            ],
            "pos": [
              -170,
              1070
            ]
          }
        ],
        "outputs": [
          {
            "id": "b3357c0e-6428-4055-9cd3-3595f0896fa8",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              169
            ],
            "label": "positive",
            "pos": [
              600,
              990
            ]
          },
          {
            "id": "01519713-2ed1-4694-a387-79f44e088e89",
            "name": "CONDITIONING_1",
            "type": "CONDITIONING",
            "linkIds": [
              170
            ],
            "label": "negative",
            "pos": [
              600,
              1010
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 76,
            "type": "ReferenceLatent",
            "pos": [
              170,
              1050
            ],
            "size": [
              204.134765625,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 166
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": 163
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  170
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ReferenceLatent",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 77,
            "type": "ReferenceLatent",
            "pos": [
              170,
              940
            ],
            "size": [
              210,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 165
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": 164
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  169
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ReferenceLatent",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 78,
            "type": "VAEEncode",
            "pos": [
              -81.9412109375,
              1031.5617968750003
            ],
            "size": [
              190,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "pixels",
                "name": "pixels",
                "type": "IMAGE",
                "link": 167
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 168
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "links": [
                  163,
                  164
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "VAEEncode",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 163,
            "origin_id": 78,
            "origin_slot": 0,
            "target_id": 76,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 164,
            "origin_id": 78,
            "origin_slot": 0,
            "target_id": 77,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 165,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 77,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 166,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 76,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 167,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 78,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 168,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 78,
            "target_slot": 1,
            "type": "VAE"
          },
          {
            "id": 169,
            "origin_id": 77,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 170,
            "origin_id": 76,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "CONDITIONING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "93041a64-452a-477a-9447-40330b7c1136",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Reference Conditioning",
        "inputNode": {
          "id": -10,
          "bounding": [
            -270,
            990,
            120,
            120
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            580,
            970,
            120,
            80
          ]
        },
        "inputs": [
          {
            "id": "5c9a0f5e-8cee-4947-90bc-330de782043a",
            "name": "conditioning",
            "type": "CONDITIONING",
            "linkIds": [
              165
            ],
            "label": "positive",
            "pos": [
              -170,
              1010
            ]
          },
          {
            "id": "61826d46-4c21-4ad6-801c-3e3fa94115e2",
            "name": "conditioning_1",
            "type": "CONDITIONING",
            "linkIds": [
              166
            ],
            "label": "negative",
            "pos": [
              -170,
              1030
            ]
          },
          {
            "id": "345bf085-5939-47ff-9767-8f8f239a719c",
            "name": "pixels",
            "type": "IMAGE",
            "linkIds": [
              167
            ],
            "pos": [
              -170,
              1050
            ]
          },
          {
            "id": "f4594e34-e2f5-4f1e-b1fa-a1dc2aeb0a90",
            "name": "vae",
            "type": "VAE",
            "linkIds": [
              168
            ],
            "pos": [
              -170,
              1070
            ]
          }
        ],
        "outputs": [
          {
            "id": "b3357c0e-6428-4055-9cd3-3595f0896fa8",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              169
            ],
            "label": "positive",
            "pos": [
              600,
              990
            ]
          },
          {
            "id": "01519713-2ed1-4694-a387-79f44e088e89",
            "name": "CONDITIONING_1",
            "type": "CONDITIONING",
            "linkIds": [
              170
            ],
            "label": "negative",
            "pos": [
              600,
              1010
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 76,
            "type": "ReferenceLatent",
            "pos": [
              170,
              1050
            ],
            "size": [
              204.134765625,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 166
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": 163
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  170
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ReferenceLatent",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 78,
            "type": "VAEEncode",
            "pos": [
              -90,
              1150
            ],
            "size": [
              190,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "pixels",
                "name": "pixels",
                "type": "IMAGE",
                "link": 167
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 168
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "links": [
                  163,
                  164
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "VAEEncode",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 77,
            "type": "ReferenceLatent",
            "pos": [
              170,
              940
            ],
            "size": [
              210,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 165
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": 164
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  169
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ReferenceLatent",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 163,
            "origin_id": 78,
            "origin_slot": 0,
            "target_id": 76,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 164,
            "origin_id": 78,
            "origin_slot": 0,
            "target_id": 77,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 165,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 77,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 166,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 76,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 167,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 78,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 168,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 78,
            "target_slot": 1,
            "type": "VAE"
          },
          {
            "id": 169,
            "origin_id": 77,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 170,
            "origin_id": 76,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "CONDITIONING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "c5bd602b-59d1-4754-aab6-9f06f1c6eeb4",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Flux2ImageLoader",
        "inputNode": {
          "id": -10,
          "bounding": [
            -49.7361898155483,
            439.25450504219475,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1462.0497384974576,
            364.6278527020432,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "14414d71-afee-44fa-b7ed-9836402104b9",
            "name": "unet_name",
            "type": "COMBO",
            "linkIds": [
              73
            ],
            "label": "model",
            "pos": [
              50.2638101844517,
              459.25450504219475
            ]
          },
          {
            "id": "e89af212-98c5-4c09-be1e-89bd9834cdd9",
            "name": "clip_name",
            "type": "COMBO",
            "linkIds": [
              74
            ],
            "label": "clip",
            "pos": [
              50.2638101844517,
              479.25450504219475
            ]
          },
          {
            "id": "668b2517-dff4-495f-bf6e-d921ad4abf02",
            "name": "vae_name",
            "type": "COMBO",
            "linkIds": [
              75
            ],
            "label": "vae",
            "pos": [
              50.2638101844517,
              499.25450504219475
            ]
          }
        ],
        "outputs": [
          {
            "id": "1eef1c47-bb8b-41cd-9103-346c671d9338",
            "name": "MODEL",
            "type": "MODEL",
            "linkIds": [
              99
            ],
            "localized_name": "MODEL",
            "pos": [
              1482.0497384974576,
              384.6278527020432
            ]
          },
          {
            "id": "fd31f1a7-9029-467d-a01e-424cd0ec5846",
            "name": "CLIP",
            "type": "CLIP",
            "linkIds": [
              80
            ],
            "localized_name": "CLIP",
            "pos": [
              1482.0497384974576,
              404.6278527020432
            ]
          },
          {
            "id": "47be076a-7475-43cb-ad25-f055ed3b4d2d",
            "name": "VAE",
            "type": "VAE",
            "linkIds": [
              93
            ],
            "localized_name": "VAE",
            "pos": [
              1482.0497384974576,
              424.6278527020432
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 40,
            "type": "VAELoader",
            "pos": [
              130.2638101844517,
              585.2545050421948
            ],
            "size": [
              270,
              58
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "vae_name",
                "name": "vae_name",
                "type": "COMBO",
                "widget": {
                  "name": "vae_name"
                },
                "link": 75
              }
            ],
            "outputs": [
              {
                "localized_name": "VAE",
                "name": "VAE",
                "type": "VAE",
                "links": [
                  92
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "VAELoader",
              "cnr_id": "comfy-core",
              "ver": "0.3.73",
              "models": [
                {
                  "name": "ae.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/vae/ae.safetensors",
                  "directory": "vae"
                }
              ],
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "flux2-vae.safetensors"
            ]
          },
          {
            "id": 46,
            "type": "UNETLoader",
            "pos": [
              130.2638101844517,
              305.2545050421948
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "unet_name",
                "name": "unet_name",
                "type": "COMBO",
                "widget": {
                  "name": "unet_name"
                },
                "link": 73
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  98
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "UNETLoader",
              "cnr_id": "comfy-core",
              "ver": "0.3.73",
              "models": [
                {
                  "name": "z_image_turbo_bf16.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/diffusion_models/z_image_turbo_bf16.safetensors",
                  "directory": "diffusion_models"
                }
              ],
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "flux-2-klein-9b.safetensors",
              "default"
            ]
          },
          {
            "id": 39,
            "type": "CLIPLoader",
            "pos": [
              130.2638101844517,
              435.2545050421948
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "clip_name",
                "name": "clip_name",
                "type": "COMBO",
                "widget": {
                  "name": "clip_name"
                },
                "link": 74
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP",
                "name": "CLIP",
                "type": "CLIP",
                "links": [
                  80
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "CLIPLoader",
              "cnr_id": "comfy-core",
              "ver": "0.3.73",
              "models": [
                {
                  "name": "qwen_3_4b.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/text_encoders/qwen_3_4b.safetensors",
                  "directory": "text_encoders"
                }
              ],
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "qwen_3_8b.safetensors",
              "flux2",
              "default"
            ]
          },
          {
            "id": 67,
            "type": "TorchCompileModelAdvanced",
            "pos": [
              495.2706581290791,
              198.04747898201913
            ],
            "size": [
              353.380859375,
              202
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 98
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  99
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "TorchCompileModelAdvanced"
            },
            "widgets_values": [
              "inductor",
              true,
              "default",
              "auto",
              true,
              64,
              false
            ]
          },
          {
            "id": 66,
            "type": "TorchCompileVAE",
            "pos": [
              527.6681815647181,
              529.9337560401858
            ],
            "size": [
              270,
              154
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 92
              }
            ],
            "outputs": [
              {
                "localized_name": "VAE",
                "name": "VAE",
                "type": "VAE",
                "links": [
                  93
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "TorchCompileVAE"
            },
            "widgets_values": [
              "inductor",
              false,
              "reduce-overhead",
              true,
              true
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 73,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 46,
            "target_slot": 0,
            "type": "COMBO"
          },
          {
            "id": 74,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 39,
            "target_slot": 0,
            "type": "COMBO"
          },
          {
            "id": 75,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 40,
            "target_slot": 0,
            "type": "COMBO"
          },
          {
            "id": 80,
            "origin_id": 39,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "CLIP"
          },
          {
            "id": 92,
            "origin_id": 40,
            "origin_slot": 0,
            "target_id": 66,
            "target_slot": 0,
            "type": "VAE"
          },
          {
            "id": 93,
            "origin_id": 66,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "VAE"
          },
          {
            "id": 98,
            "origin_id": 46,
            "origin_slot": 0,
            "target_id": 67,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 99,
            "origin_id": 67,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "MODEL"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "6d2d9cfd-d063-420a-8110-b6ff72174454",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Flux2 Prompt",
        "inputNode": {
          "id": -10,
          "bounding": [
            -1415.94844355656,
            -92.75989318107474,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1087.800166883544,
            -72.17211979044968,
            120,
            80
          ]
        },
        "inputs": [
          {
            "id": "8bb08822-4566-4185-aaef-5802eb0254df",
            "name": "clip",
            "type": "CLIP",
            "linkIds": [
              210
            ],
            "localized_name": "clip",
            "pos": [
              -1315.94844355656,
              -72.75989318107474
            ]
          },
          {
            "id": "4d4a3101-9878-4102-97f2-a05c7ff24080",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              258
            ],
            "label": "prompt",
            "pos": [
              -1315.94844355656,
              -52.759893181074744
            ]
          },
          {
            "id": "432e1bff-b6b6-499d-af76-ec7b8b0ce634",
            "name": "switch",
            "type": "BOOLEAN",
            "linkIds": [
              263
            ],
            "pos": [
              -1315.94844355656,
              -32.759893181074744
            ]
          }
        ],
        "outputs": [
          {
            "id": "ba179df6-433b-4423-a0d6-1771935c6bd0",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              238
            ],
            "localized_name": "CONDITIONING",
            "label": "positive",
            "pos": [
              1107.800166883544,
              -52.172119790449685
            ]
          },
          {
            "id": "02f24494-c682-4460-8bc1-9c0d61e09625",
            "name": "CONDITIONING_1",
            "type": "CONDITIONING",
            "linkIds": [
              232
            ],
            "localized_name": "CONDITIONING_1",
            "label": "negative",
            "pos": [
              1107.800166883544,
              -32.172119790449685
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 128,
            "type": "ConditioningZeroOut",
            "pos": [
              709.6184530273456,
              17.6091985739124
            ],
            "size": [
              204.134765625,
              26
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 239
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  232
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ConditioningZeroOut",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 134,
            "type": "OAIAPI_Client",
            "pos": [
              -1187.4275650431405,
              304.38596494559397
            ],
            "size": [
              270,
              130
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "API Client",
                "name": "API Client",
                "type": "OAIAPI_CLIENT",
                "links": [
                  255
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "OAIAPI_Client"
            },
            "widgets_values": [
              "http://localhost:8000/api/v1",
              2,
              600,
              ""
            ]
          },
          {
            "id": 138,
            "type": "ComfySwitchNode",
            "pos": [
              -677.7560367775162,
              44.15198600730679
            ],
            "size": [
              270,
              78
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "on_false",
                "name": "on_false",
                "type": "STRING",
                "link": 260
              },
              {
                "localized_name": "on_true",
                "name": "on_true",
                "type": "STRING",
                "link": 262
              },
              {
                "label": "Enhance Prompt",
                "localized_name": "switch",
                "name": "switch",
                "type": "BOOLEAN",
                "widget": {
                  "name": "switch"
                },
                "link": 263
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "STRING",
                "links": [
                  261,
                  265
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ComfySwitchNode"
            },
            "widgets_values": [
              false
            ]
          },
          {
            "id": 108,
            "type": "CLIPTextEncode",
            "pos": [
              93.18795887312777,
              -109.0744226235619
            ],
            "size": [
              459.35960807291684,
              109.94370052083343
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "clip",
                "name": "clip",
                "type": "CLIP",
                "link": 210
              },
              {
                "localized_name": "text",
                "name": "text",
                "type": "STRING",
                "widget": {
                  "name": "text"
                },
                "link": 261
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "slot_index": 0,
                "links": [
                  238,
                  239
                ]
              }
            ],
            "title": "CLIP Text Encode (Positive Prompt)",
            "properties": {
              "Node name for S&R": "CLIPTextEncode",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              ""
            ],
            "color": "#232",
            "bgcolor": "#353"
          },
          {
            "id": 139,
            "type": "PreviewAny",
            "pos": [
              78.87544967810844,
              114.10477782246281
            ],
            "size": [
              547.9596171874996,
              463.0885585937499
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 265
              }
            ],
            "outputs": [],
            "properties": {
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 137,
            "type": "PrimitiveStringMultiline",
            "pos": [
              -1191.2560981564222,
              30.72538596433798
            ],
            "size": [
              400,
              200
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 258
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  259,
                  260
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              "a bust portrait of a man with his face and neck painted completely white. He has an angular jaw, red lipstick, brown-green eyes with black eyeliner and a retro short hairdo. His hair is black. He stands at 3/4 angle wearing a red shirt and black tie. The background is split diagonally into two halves, the upper half being emerald and the bottom half being yellow."
            ]
          },
          {
            "id": 135,
            "type": "OAIAPI_ChatCompletion",
            "pos": [
              -739.3785179032855,
              269.9575950971511
            ],
            "size": [
              709.9916015624999,
              727.0046875
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "label": "API Client",
                "localized_name": "client",
                "name": "client",
                "type": "OAIAPI_CLIENT",
                "link": 255
              },
              {
                "label": "History",
                "localized_name": "history",
                "name": "history",
                "shape": 7,
                "type": "OAIAPI_HISTORY",
                "link": null
              },
              {
                "label": "Options",
                "localized_name": "options",
                "name": "options",
                "shape": 7,
                "type": "OAIAPI_OPTIONS",
                "link": null
              },
              {
                "label": "image(s)",
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 259
              }
            ],
            "outputs": [
              {
                "localized_name": "Response",
                "name": "Response",
                "type": "STRING",
                "links": [
                  262
                ]
              },
              {
                "localized_name": "History",
                "name": "History",
                "type": "OAIAPI_HISTORY",
                "links": null
              }
            ],
            "properties": {
              "Node name for S&R": "OAIAPI_ChatCompletion"
            },
            "widgets_values": [
              "user.Qwen3-VL-30B-A3B-Instruct",
              false,
              "",
              "You are a prompt enhancement assistant for the FLUX.2 [klein] image generation model. Your role is to transform brief user requests into detailed, novelist-style prose descriptions that maximize image quality.\n\n## Core Principles\n\n**Write Like a Novelist**: Convert keywords into flowing, descriptive prose. Never use comma-separated lists or search-engine style keywords.\n\n**No Upsampling**: FLUX.2 [klein] does NOT auto-enhance prompts. Every detail must be explicitly described.\n\n## Prompt Structure Framework\n\nAlways organize enhanced prompts following this priority order:\n\n1. **Subject** (most important - front-load this)\n2. **Setting** (where the scene takes place)\n3. **Details** (specific visual elements, textures, materials)\n4. **Lighting** (the MOST CRITICAL element - always describe explicitly)\n5. **Atmosphere** (mood and emotional tone)\n\n## Lighting Requirements (HIGHEST PRIORITY)\n\nLighting has the single greatest impact on output quality. ALWAYS include detailed lighting descriptions covering:\n\n- **Source**: natural, artificial, ambient, mixed\n- **Quality**: soft, harsh, diffused, direct, filtered\n- **Direction**: side, back, overhead, fill, camera-left/right\n- **Temperature**: warm, cool, golden, blue hour, neutral\n- **Interaction**: how light catches surfaces, creates shadows, filters through objects, reflects\n\n**Good examples:**\n- \"soft, diffused natural light filtering through sheer curtains\"\n- \"dramatic side lighting creating deep shadows and highlights\"\n- \"golden hour backlighting with lens flare\"\n- \"overcast light creating even, shadow-free illumination\"\n\n**Bad examples:**\n- \"good lighting\"\n- \"nice light\"\n- \"well-lit\"\n\n## Word Order Hierarchy\n\nPlace elements by importance:\n1. Main subject and key action FIRST\n2. Style and visual treatment\n3. Context and environment\n4. Secondary details LAST\n\nThe model pays MORE attention to what comes first.\n\n## Prompt Length Guidelines\n\n- **Short (10-30 words)**: Quick concepts, style tests\n- **Medium (30-80 words)**: Standard production work - USE THIS AS DEFAULT\n- **Long (80-300+ words)**: Complex editorial, highly detailed scenes\n\nOnly extend length when every sentence adds meaningful visual information. Avoid filler.\n\n## Style and Mood Annotations\n\nOptionally append explicit style/mood descriptors at the end:\n\n```\n[Scene description]. Style: [aesthetic descriptor]. Mood: [emotional tone].\n```\n\nExamples:\n- \"Style: Country chic meets luxury lifestyle editorial. Mood: Serene, romantic, grounded.\"\n- \"Shot on 35mm film (Kodak Portra 400) with shallow depth of fieldâ€”subject razor-sharp, background softly blurred.\"\n\n## Enhancement Process\n\nWhen given a brief user request:\n\n1. Identify the core subject\n2. Expand into flowing prose (NOT keywords)\n3. Add rich sensory details (textures, materials, reflections)\n4. **ALWAYS** add comprehensive lighting description\n5. Include atmospheric elements\n6. Add style/mood annotation if beneficial\n7. Verify word order prioritizes most important elements\n\n## Examples\n\n**User input:** \"woman with blonde hair\"\n\n**Enhanced output:** \"A woman with short, blonde hair is posing against a light, neutral background. She is wearing colorful earrings and a necklace, resting her chin on her hand. Soft, diffused natural light from a large window camera-left creates gentle shadows that define her features, giving the image a warm, minimalist aesthetic.\"\n\n**User input:** \"fisherman on boat\"\n\n**Enhanced output:** \"A weathered fisherman in his late sixties stands at the bow of a small wooden boat, wearing a salt-stained wool sweater, hands gripping frayed rope. Golden hour sunlight filters through morning mist, creating a sense of quiet determination and solitude. The warm backlight catches spray from the waves, while diffused light evenly illuminates his weathered features.\"\n\n## Critical Rules\n\nâœ… DO:\n- Write in complete, flowing sentences\n- Front-load the main subject\n- Describe lighting in detail EVERY time\n- Use sensory, evocative language\n- Specify materials, textures, interactions\n\nâŒ DON'T:\n- Use comma-separated keyword lists\n- Write vague descriptions (\"good,\" \"nice,\" \"beautiful\")\n- Bury the subject in context\n- Skip lighting details\n- Add filler that doesn't serve the visual\n\n---\n\n**When you receive a user's brief prompt, enhance it following all these guidelines and output ONLY the enhanced prompt, ready for FLUX.2 [klein].**"
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 239,
            "origin_id": 108,
            "origin_slot": 0,
            "target_id": 128,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 210,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 108,
            "target_slot": 0,
            "type": "CLIP"
          },
          {
            "id": 238,
            "origin_id": 108,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 232,
            "origin_id": 128,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 255,
            "origin_id": 134,
            "origin_slot": 0,
            "target_id": 135,
            "target_slot": 0,
            "type": "OAIAPI_CLIENT"
          },
          {
            "id": 258,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 137,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 259,
            "origin_id": 137,
            "origin_slot": 0,
            "target_id": 135,
            "target_slot": 4,
            "type": "STRING"
          },
          {
            "id": 260,
            "origin_id": 137,
            "origin_slot": 0,
            "target_id": 138,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 261,
            "origin_id": 138,
            "origin_slot": 0,
            "target_id": 108,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 262,
            "origin_id": 135,
            "origin_slot": 0,
            "target_id": 138,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 263,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 138,
            "target_slot": 2,
            "type": "BOOLEAN"
          },
          {
            "id": 265,
            "origin_id": 138,
            "origin_slot": 0,
            "target_id": 139,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "487047c6-8a87-463c-a5ba-eac4fe96d290",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Flux2 Reference Image",
        "inputNode": {
          "id": -10,
          "bounding": [
            -2319.4883730730708,
            378.73970819555655,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            -1443.2240971563892,
            368.73970819555655,
            120,
            120
          ]
        },
        "inputs": [
          {
            "id": "0736f606-96e9-46c1-978a-db1180008596",
            "name": "conditioning",
            "type": "CONDITIONING",
            "linkIds": [
              256
            ],
            "label": "positive",
            "pos": [
              -2219.4883730730708,
              398.73970819555655
            ]
          },
          {
            "id": "259ef44b-1165-4e4d-86ac-5d1db6ed7f48",
            "name": "conditioning_1",
            "type": "CONDITIONING",
            "linkIds": [
              257
            ],
            "label": "negative",
            "pos": [
              -2219.4883730730708,
              418.73970819555655
            ]
          },
          {
            "id": "431bd06e-3729-4623-bdd9-9f9f6fde6d3d",
            "name": "vae",
            "type": "VAE",
            "linkIds": [
              240
            ],
            "pos": [
              -2219.4883730730708,
              438.73970819555655
            ]
          }
        ],
        "outputs": [
          {
            "id": "46960619-f844-4db1-9951-6b5871ecef21",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              234
            ],
            "label": "positive",
            "pos": [
              -1423.2240971563892,
              388.73970819555655
            ]
          },
          {
            "id": "b645edb4-08fd-48f2-95f3-aa6b6a88055d",
            "name": "CONDITIONING_1",
            "type": "CONDITIONING",
            "linkIds": [
              235
            ],
            "label": "negative",
            "pos": [
              -1423.2240971563892,
              408.73970819555655
            ]
          },
          {
            "id": "62663ca8-4971-40d9-baea-83759c0a0010",
            "name": "width",
            "type": "INT",
            "linkIds": [
              245
            ],
            "localized_name": "width",
            "pos": [
              -1423.2240971563892,
              428.73970819555655
            ]
          },
          {
            "id": "ecaa6e9e-320f-4f6e-a9dd-7d29bccd263e",
            "name": "height",
            "type": "INT",
            "linkIds": [
              250
            ],
            "localized_name": "height",
            "pos": [
              -1423.2240971563892,
              448.73970819555655
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 76,
            "type": "LoadImage",
            "pos": [
              -2139.4883730730708,
              77.84469801391637
            ],
            "size": [
              320,
              405
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  254
                ]
              },
              {
                "localized_name": "MASK",
                "name": "MASK",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "Node name for S&R": "LoadImage",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "example.png",
              "image"
            ]
          },
          {
            "id": 129,
            "type": "ImageScaleToTotalPixels",
            "pos": [
              -2133.9130035016638,
              552.4394852907415
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 254
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  233,
                  237
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ImageScaleToTotalPixels",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "nearest-exact",
              1,
              1
            ]
          },
          {
            "id": 133,
            "type": "GetImageSize",
            "pos": [
              -2063.565914966785,
              743.6347183771967
            ],
            "size": [
              187.5,
              66
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 237
              }
            ],
            "outputs": [
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "links": [
                  245
                ]
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "links": [
                  250
                ]
              },
              {
                "localized_name": "batch_size",
                "name": "batch_size",
                "type": "INT",
                "links": []
              }
            ],
            "properties": {
              "Node name for S&R": "GetImageSize",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 131,
            "type": "27eacb9f-0da2-421d-a0bf-b4b4e5fe5709",
            "pos": [
              -1737.8620183346363,
              703.2317327014455
            ],
            "size": [
              240,
              86
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "label": "positive",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 256
              },
              {
                "label": "negative",
                "name": "conditioning_1",
                "type": "CONDITIONING",
                "link": 257
              },
              {
                "name": "pixels",
                "type": "IMAGE",
                "link": 233
              },
              {
                "name": "vae",
                "type": "VAE",
                "link": 240
              }
            ],
            "outputs": [
              {
                "label": "positive",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  234
                ]
              },
              {
                "label": "negative",
                "name": "CONDITIONING_1",
                "type": "CONDITIONING",
                "links": [
                  235
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [],
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 233,
            "origin_id": 129,
            "origin_slot": 0,
            "target_id": 131,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 254,
            "origin_id": 76,
            "origin_slot": 0,
            "target_id": 129,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 237,
            "origin_id": 129,
            "origin_slot": 0,
            "target_id": 133,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 256,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 131,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 257,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 131,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 240,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 131,
            "target_slot": 3,
            "type": "VAE"
          },
          {
            "id": 234,
            "origin_id": 131,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 235,
            "origin_id": 131,
            "origin_slot": 1,
            "target_id": -20,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 245,
            "origin_id": 133,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 250,
            "origin_id": 133,
            "origin_slot": 1,
            "target_id": -20,
            "target_slot": 3,
            "type": "INT"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "2e2cc58d-2aeb-41a6-90b0-a4d76c57240a",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Flux2 Secondary Image",
        "inputNode": {
          "id": -10,
          "bounding": [
            -2339.256363190255,
            890.8543409254949,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            -1056.5046538670456,
            900.8543409254949,
            120,
            80
          ]
        },
        "inputs": [
          {
            "id": "eda129c8-db7a-4fa5-856d-c6cd10b97247",
            "name": "conditioning",
            "type": "CONDITIONING",
            "linkIds": [
              261
            ],
            "label": "positive",
            "pos": [
              -2239.256363190255,
              910.8543409254949
            ]
          },
          {
            "id": "5350924c-f93f-4c31-8625-e20a3a521d1d",
            "name": "conditioning_1",
            "type": "CONDITIONING",
            "linkIds": [
              262
            ],
            "label": "negative",
            "pos": [
              -2239.256363190255,
              930.8543409254949
            ]
          },
          {
            "id": "866ed838-32f6-4048-8561-f04ee550830e",
            "name": "vae",
            "type": "VAE",
            "linkIds": [
              241
            ],
            "pos": [
              -2239.256363190255,
              950.8543409254949
            ]
          }
        ],
        "outputs": [
          {
            "id": "acb679ea-9c08-4f34-b40c-7fa9c0d267a2",
            "name": "CONDITIONING",
            "type": "CONDITIONING",
            "linkIds": [
              242
            ],
            "label": "positive",
            "pos": [
              -1036.5046538670456,
              920.8543409254949
            ]
          },
          {
            "id": "06086021-c6c6-4c87-b823-2edbf8208437",
            "name": "CONDITIONING_1",
            "type": "CONDITIONING",
            "linkIds": [
              243
            ],
            "label": "negative",
            "pos": [
              -1036.5046538670456,
              940.8543409254949
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 130,
            "type": "ImageScaleToTotalPixels",
            "pos": [
              -1786.313585808301,
              769.9385105863024
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 253
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  236
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ImageScaleToTotalPixels",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "nearest-exact",
              1,
              1
            ]
          },
          {
            "id": 81,
            "type": "LoadImage",
            "pos": [
              -2159.256363190255,
              910.4520232811502
            ],
            "size": [
              320,
              405
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  253
                ]
              },
              {
                "localized_name": "MASK",
                "name": "MASK",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "Node name for S&R": "LoadImage",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              "example.png",
              "image"
            ]
          },
          {
            "id": 132,
            "type": "93041a64-452a-477a-9447-40330b7c1136",
            "pos": [
              -1356.5046538670456,
              596.2566585698396
            ],
            "size": [
              240,
              86
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "label": "positive",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 261
              },
              {
                "label": "negative",
                "name": "conditioning_1",
                "type": "CONDITIONING",
                "link": 262
              },
              {
                "name": "pixels",
                "type": "IMAGE",
                "link": 236
              },
              {
                "name": "vae",
                "type": "VAE",
                "link": 241
              }
            ],
            "outputs": [
              {
                "label": "positive",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  242
                ]
              },
              {
                "label": "negative",
                "name": "CONDITIONING_1",
                "type": "CONDITIONING",
                "links": [
                  243
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [],
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 236,
            "origin_id": 130,
            "origin_slot": 0,
            "target_id": 132,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 253,
            "origin_id": 81,
            "origin_slot": 0,
            "target_id": 130,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 261,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 132,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 262,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 132,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 241,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 132,
            "target_slot": 3,
            "type": "VAE"
          },
          {
            "id": 242,
            "origin_id": 132,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "CONDITIONING"
          },
          {
            "id": 243,
            "origin_id": 132,
            "origin_slot": 1,
            "target_id": -20,
            "target_slot": 1,
            "type": "CONDITIONING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "1e5bce77-de14-4aff-8ecd-4c6c3cd45d17",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Flux2ImageSampler",
        "inputNode": {
          "id": -10,
          "bounding": [
            -2059.5449722533917,
            835.0909613944642,
            122.564453125,
            239.9999999999999
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            247.63822789289713,
            738.7797465507141,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "72b125f8-d36b-4c1e-935d-247d6a370200",
            "name": "any_01",
            "type": "INT",
            "linkIds": [
              264
            ],
            "label": "img_width",
            "dir": 3,
            "pos": [
              -1956.9805191283917,
              855.0909613944642
            ]
          },
          {
            "id": "c03c9005-3eff-4721-b9ee-ee4642527d55",
            "name": "any_01_1",
            "type": "INT",
            "linkIds": [
              263
            ],
            "label": "img_height",
            "dir": 3,
            "pos": [
              -1956.9805191283917,
              875.0909613944642
            ]
          },
          {
            "id": "efcca261-862d-4558-b61b-a6a23755f915",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              315
            ],
            "localized_name": "model",
            "pos": [
              -1956.9805191283917,
              895.0909613944642
            ]
          },
          {
            "id": "c9618e39-ca10-4496-a84f-9662743e823a",
            "name": "positive",
            "type": "CONDITIONING",
            "linkIds": [
              316
            ],
            "localized_name": "positive",
            "pos": [
              -1956.9805191283917,
              915.0909613944642
            ]
          },
          {
            "id": "c6d96c51-8c6d-42c9-aa94-31ded5ade48a",
            "name": "negative",
            "type": "CONDITIONING",
            "linkIds": [
              317
            ],
            "localized_name": "negative",
            "pos": [
              -1956.9805191283917,
              935.0909613944642
            ]
          },
          {
            "id": "34ac946a-ac45-4a11-a7b9-a3a8c7b02837",
            "name": "vae",
            "type": "VAE",
            "linkIds": [
              281
            ],
            "localized_name": "vae",
            "pos": [
              -1956.9805191283917,
              955.0909613944642
            ]
          },
          {
            "id": "f0252371-142c-4659-acd4-e17e459d2f86",
            "name": "value",
            "type": "INT",
            "linkIds": [
              284
            ],
            "label": "width",
            "pos": [
              -1956.9805191283917,
              975.0909613944642
            ]
          },
          {
            "id": "1e082614-ee36-4141-abe9-0c818bd4f449",
            "name": "value_1",
            "type": "INT",
            "linkIds": [
              285
            ],
            "label": "height",
            "pos": [
              -1956.9805191283917,
              995.0909613944642
            ]
          },
          {
            "id": "4b0bb2d5-930f-43db-a954-c6380fe5b66a",
            "name": "sampler_name",
            "type": "COMBO",
            "linkIds": [
              321
            ],
            "pos": [
              -1956.9805191283917,
              1015.0909613944642
            ]
          },
          {
            "id": "ea5e1a7c-bc45-4ddc-9032-5c82d83e1d0b",
            "name": "steps",
            "type": "INT",
            "linkIds": [
              287
            ],
            "pos": [
              -1956.9805191283917,
              1035.090961394464
            ]
          }
        ],
        "outputs": [
          {
            "id": "bab84fae-50c8-4354-a532-2883e43c3e18",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              282
            ],
            "localized_name": "IMAGE",
            "pos": [
              267.63822789289713,
              758.7797465507141
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 125,
            "type": "Any Switch (rgthree)",
            "pos": [
              -1335.4765074096413,
              1029.9723757671704
            ],
            "size": [
              263.72841796875,
              106
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "dir": 3,
                "name": "any_01",
                "type": "*",
                "link": 264
              },
              {
                "dir": 3,
                "name": "any_02",
                "type": "*",
                "link": 249
              },
              {
                "dir": 3,
                "name": "any_03",
                "type": "*",
                "link": null
              },
              {
                "dir": 3,
                "name": "any_04",
                "type": "*",
                "link": null
              },
              {
                "name": "any_05",
                "type": "*",
                "link": null
              }
            ],
            "outputs": [
              {
                "dir": 4,
                "label": "*",
                "name": "*",
                "shape": 3,
                "type": "*",
                "links": [
                  252,
                  279
                ]
              }
            ],
            "properties": {},
            "widgets_values": []
          },
          {
            "id": 124,
            "type": "Any Switch (rgthree)",
            "pos": [
              -1331.0571714721414,
              856.7533132671697
            ],
            "size": [
              263.72841796875,
              106
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "dir": 3,
                "name": "any_01",
                "type": "*",
                "link": 263
              },
              {
                "dir": 3,
                "name": "any_02",
                "type": "*",
                "link": 246
              },
              {
                "dir": 3,
                "name": "any_03",
                "type": "*",
                "link": null
              },
              {
                "dir": 3,
                "name": "any_04",
                "type": "*",
                "link": null
              },
              {
                "name": "any_05",
                "type": "*",
                "link": null
              }
            ],
            "outputs": [
              {
                "dir": 4,
                "label": "*",
                "name": "*",
                "shape": 3,
                "type": "*",
                "links": [
                  247,
                  278
                ]
              }
            ],
            "properties": {},
            "widgets_values": []
          },
          {
            "id": 126,
            "type": "PrimitiveInt",
            "pos": [
              -1707.7471870971415,
              1165.58690701717
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "INT",
                "widget": {
                  "name": "value"
                },
                "link": 285
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  249
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              1024,
              "fixed"
            ]
          },
          {
            "id": 123,
            "type": "PrimitiveInt",
            "pos": [
              -1721.3587417846413,
              1016.4931648296692
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "INT",
                "widget": {
                  "name": "value"
                },
                "link": 284
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  246
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              768,
              "fixed"
            ]
          },
          {
            "id": 151,
            "type": "CFGGuider",
            "pos": [
              -439.1357781723833,
              631.6700061647769
            ],
            "size": [
              270,
              98
            ],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 315
              },
              {
                "localized_name": "positive",
                "name": "positive",
                "type": "CONDITIONING",
                "link": 316
              },
              {
                "localized_name": "negative",
                "name": "negative",
                "type": "CONDITIONING",
                "link": 317
              }
            ],
            "outputs": [
              {
                "localized_name": "GUIDER",
                "name": "GUIDER",
                "type": "GUIDER",
                "links": [
                  314
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "CFGGuider"
            },
            "widgets_values": [
              1
            ]
          },
          {
            "id": 143,
            "type": "Seed (rgthree)",
            "pos": [
              -945.6129108879218,
              688.6110115701069
            ],
            "size": [
              315,
              130
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "dir": 4,
                "name": "SEED",
                "shape": 3,
                "type": "INT",
                "links": [
                  319
                ]
              }
            ],
            "properties": {
              "randomMax": 1125899906842624,
              "randomMin": 0
            },
            "widgets_values": [
              330901028868944,
              "",
              "",
              ""
            ]
          },
          {
            "id": 154,
            "type": "RandomNoise",
            "pos": [
              -876.6372716235836,
              902.6988777889899
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "noise_seed",
                "name": "noise_seed",
                "type": "INT",
                "widget": {
                  "name": "noise_seed"
                },
                "link": 319
              }
            ],
            "outputs": [
              {
                "localized_name": "NOISE",
                "name": "NOISE",
                "type": "NOISE",
                "links": [
                  320
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "RandomNoise"
            },
            "widgets_values": [
              144521164933187,
              "randomize"
            ]
          },
          {
            "id": 149,
            "type": "SamplerCustomAdvanced",
            "pos": [
              -424.13609330015106,
              821.5673148355846
            ],
            "size": [
              212.3638671875,
              106
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "noise",
                "name": "noise",
                "type": "NOISE",
                "link": 320
              },
              {
                "localized_name": "guider",
                "name": "guider",
                "type": "GUIDER",
                "link": 314
              },
              {
                "localized_name": "sampler",
                "name": "sampler",
                "type": "SAMPLER",
                "link": 311
              },
              {
                "localized_name": "sigmas",
                "name": "sigmas",
                "type": "SIGMAS",
                "link": 312
              },
              {
                "localized_name": "latent_image",
                "name": "latent_image",
                "type": "LATENT",
                "link": 313
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "LATENT",
                "links": [
                  318
                ]
              },
              {
                "localized_name": "denoised_output",
                "name": "denoised_output",
                "type": "LATENT",
                "links": null
              }
            ],
            "properties": {
              "Node name for S&R": "SamplerCustomAdvanced"
            },
            "widgets_values": []
          },
          {
            "id": 139,
            "type": "Flux2Scheduler",
            "pos": [
              -907.5356252012813,
              1065.5816497162862
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "steps",
                "name": "steps",
                "type": "INT",
                "widget": {
                  "name": "steps"
                },
                "link": 287
              },
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "widget": {
                  "name": "width"
                },
                "link": 278
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "widget": {
                  "name": "height"
                },
                "link": 279
              }
            ],
            "outputs": [
              {
                "localized_name": "SIGMAS",
                "name": "SIGMAS",
                "type": "SIGMAS",
                "links": [
                  312
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "Flux2Scheduler",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              4,
              1024,
              1024
            ]
          },
          {
            "id": 141,
            "type": "VAEDecode",
            "pos": [
              -424.3885154089249,
              1024.9743690328748
            ],
            "size": [
              220,
              46
            ],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "samples",
                "name": "samples",
                "type": "LATENT",
                "link": 318
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 281
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "slot_index": 0,
                "links": [
                  282
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "VAEDecode",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": []
          },
          {
            "id": 153,
            "type": "KSamplerSelect",
            "pos": [
              -459.27372457900776,
              1194.1461686110072
            ],
            "size": [
              270,
              58
            ],
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "sampler_name",
                "name": "sampler_name",
                "type": "COMBO",
                "widget": {
                  "name": "sampler_name"
                },
                "link": 321
              }
            ],
            "outputs": [
              {
                "localized_name": "SAMPLER",
                "name": "SAMPLER",
                "type": "SAMPLER",
                "links": [
                  311
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "KSamplerSelect"
            },
            "widgets_values": [
              "euler"
            ]
          },
          {
            "id": 127,
            "type": "EmptyFlux2LatentImage",
            "pos": [
              -909.9158648646807,
              1255.3902112569933
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "widget": {
                  "name": "width"
                },
                "link": 247
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "widget": {
                  "name": "height"
                },
                "link": 252
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "links": [
                  313
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "EmptyFlux2LatentImage",
              "cnr_id": "comfy-core",
              "ver": "0.8.2",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65
            },
            "widgets_values": [
              1024,
              1024,
              1
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 249,
            "origin_id": 126,
            "origin_slot": 0,
            "target_id": 125,
            "target_slot": 1,
            "type": "INT"
          },
          {
            "id": 246,
            "origin_id": 123,
            "origin_slot": 0,
            "target_id": 124,
            "target_slot": 1,
            "type": "INT"
          },
          {
            "id": 247,
            "origin_id": 124,
            "origin_slot": 0,
            "target_id": 127,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 252,
            "origin_id": 125,
            "origin_slot": 0,
            "target_id": 127,
            "target_slot": 1,
            "type": "INT"
          },
          {
            "id": 264,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 125,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 263,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 124,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 278,
            "origin_id": 124,
            "origin_slot": 0,
            "target_id": 139,
            "target_slot": 1,
            "type": "INT"
          },
          {
            "id": 279,
            "origin_id": 125,
            "origin_slot": 0,
            "target_id": 139,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 281,
            "origin_id": -10,
            "origin_slot": 5,
            "target_id": 141,
            "target_slot": 1,
            "type": "VAE"
          },
          {
            "id": 282,
            "origin_id": 141,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 284,
            "origin_id": -10,
            "origin_slot": 6,
            "target_id": 123,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 285,
            "origin_id": -10,
            "origin_slot": 7,
            "target_id": 126,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 287,
            "origin_id": -10,
            "origin_slot": 9,
            "target_id": 139,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 311,
            "origin_id": 153,
            "origin_slot": 0,
            "target_id": 149,
            "target_slot": 2,
            "type": "SAMPLER"
          },
          {
            "id": 312,
            "origin_id": 139,
            "origin_slot": 0,
            "target_id": 149,
            "target_slot": 3,
            "type": "SIGMAS"
          },
          {
            "id": 313,
            "origin_id": 127,
            "origin_slot": 0,
            "target_id": 149,
            "target_slot": 4,
            "type": "LATENT"
          },
          {
            "id": 314,
            "origin_id": 151,
            "origin_slot": 0,
            "target_id": 149,
            "target_slot": 1,
            "type": "GUIDER"
          },
          {
            "id": 315,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 151,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 316,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 151,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 317,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 151,
            "target_slot": 2,
            "type": "CONDITIONING"
          },
          {
            "id": 318,
            "origin_id": 149,
            "origin_slot": 0,
            "target_id": 141,
            "target_slot": 0,
            "type": "LATENT"
          },
          {
            "id": 319,
            "origin_id": 143,
            "origin_slot": 0,
            "target_id": 154,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 320,
            "origin_id": 154,
            "origin_slot": 0,
            "target_id": 149,
            "target_slot": 0,
            "type": "NOISE"
          },
          {
            "id": 321,
            "origin_id": -10,
            "origin_slot": 8,
            "target_id": 153,
            "target_slot": 0,
            "type": "COMBO"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "f2a4744d-e70e-4aac-ba41-f86eeafb1438",
        "version": 1,
        "state": {
          "lastGroupId": 4,
          "lastNodeId": 155,
          "lastLinkId": 321,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Upscaler",
        "inputNode": {
          "id": -10,
          "bounding": [
            435.20746607539115,
            420.70549213372635,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1239.7182660947003,
            466.5503526024877,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "e663c6dc-a9b6-4cb7-846f-07f10b4d127f",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [
              100,
              105
            ],
            "localized_name": "image",
            "pos": [
              535.2074660753912,
              440.70549213372635
            ]
          },
          {
            "id": "44ef287e-3c3c-4d90-8de5-7e3fe7ad577d",
            "name": "model_name",
            "type": "COMBO",
            "linkIds": [
              104
            ],
            "pos": [
              535.2074660753912,
              460.70549213372635
            ]
          },
          {
            "id": "58ceaea8-2b8c-400f-b04b-65490b54e886",
            "name": "switch",
            "type": "BOOLEAN",
            "linkIds": [
              108
            ],
            "pos": [
              535.2074660753912,
              480.70549213372635
            ]
          }
        ],
        "outputs": [
          {
            "id": "c27d2415-aa8e-4a5f-b0da-6a50f73f3b69",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              107
            ],
            "localized_name": "IMAGE",
            "pos": [
              1259.7182660947003,
              486.5503526024877
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 78,
            "type": "UpscaleModelLoader",
            "pos": [
              769.9380117673563,
              308.7349646810404
            ],
            "size": [
              270,
              58
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model_name",
                "name": "model_name",
                "type": "COMBO",
                "widget": {
                  "name": "model_name"
                },
                "link": 104
              }
            ],
            "outputs": [
              {
                "localized_name": "UPSCALE_MODEL",
                "name": "UPSCALE_MODEL",
                "type": "UPSCALE_MODEL",
                "links": [
                  103
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "UpscaleModelLoader"
            },
            "widgets_values": [
              "nmkdSiaxCX_200k.safetensors"
            ]
          },
          {
            "id": 75,
            "type": "ImageUpscaleWithModel",
            "pos": [
              801.0556976137666,
              438.34217011214423
            ],
            "size": [
              267.71489039778305,
              85.04367204653579
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "upscale_model",
                "name": "upscale_model",
                "type": "UPSCALE_MODEL",
                "link": 103
              },
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 100
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  106
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ImageUpscaleWithModel"
            },
            "widgets_values": []
          },
          {
            "id": 79,
            "type": "ComfySwitchNode",
            "pos": [
              813.6661676657333,
              597.1009364585898
            ],
            "size": [
              270,
              78
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "on_false",
                "name": "on_false",
                "type": "IMAGE",
                "link": 105
              },
              {
                "localized_name": "on_true",
                "name": "on_true",
                "type": "IMAGE",
                "link": 106
              },
              {
                "localized_name": "switch",
                "name": "switch",
                "type": "BOOLEAN",
                "widget": {
                  "name": "switch"
                },
                "link": 108
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "IMAGE",
                "links": [
                  107
                ]
              }
            ],
            "properties": {
              "Node name for S&R": "ComfySwitchNode"
            },
            "widgets_values": [
              false
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 103,
            "origin_id": 78,
            "origin_slot": 0,
            "target_id": 75,
            "target_slot": 0,
            "type": "UPSCALE_MODEL"
          },
          {
            "id": 100,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 75,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 104,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 78,
            "target_slot": 0,
            "type": "COMBO"
          },
          {
            "id": 105,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 79,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 106,
            "origin_id": 75,
            "origin_slot": 0,
            "target_id": 79,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 107,
            "origin_id": 79,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 108,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 79,
            "target_slot": 2,
            "type": "BOOLEAN"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      }
    ]
  },
  "config": {},
  "extra": {
    "frontendVersion": "1.39.16",
    "workflowRendererVersion": "LG",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "linearMode": false,
    "ds": {
      "scale": 0.8839447422783082,
      "offset": [
        2125.001490512815,
        280.36949368741995
      ]
    },
    "ovum.cudnn-wrapper-enabled": true
  },
  "version": 0.4
}